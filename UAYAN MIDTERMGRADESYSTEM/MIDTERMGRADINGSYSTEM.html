<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Midterm Grade Calculator</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f8f8f8;
        margin: 0;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      .container {
        width: 400px;
        margin: auto;
        background: #ccc0d1;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      h2 {
        text-align: center;
        margin-bottom: 20px;
        color: #333;
      }

      .input-group {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      label {
        font-size: 0.9rem;
        color: #555;
        flex: 1;
        margin-right: 10px;
        white-space: nowrap;
      }

      input[type="number"] {
        width: 100px;
        padding: 6px 8px;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        -moz-appearance: textfield;
      }

      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      button {
        width: 100%;
        padding: 10px;
        background: #caacd8;
        border: none;
        color: rgb(245, 245, 245);
        font-size: 1rem;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 15px;
        transition: background-color 0.3s ease;
      }

      button:hover {
        background: #7d63a9;
      }

      .result {
        margin-top: 20px;
        text-align: center;
        font-size: 1.2rem;
        font-weight: bold;
        color: #2c3e50;
      }

      .message-box {
        color: rgb(153, 108, 108);
        text-align: center;
        font-size: 0.9rem;
      }

      .result-group {
        margin-top: 20px;
        text-align: center;
        padding-top: 1.5rem;
        border-top: 1px solid #e0e0e0;
      }

      .result-group h3 {
        color: #2c3e50;
        margin-bottom: 1rem;
      }

      .result-display {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }

      .result-display input {
        display: block;
        margin: 0 auto;
        width: 150px;
        text-align: center;
        font-size: 1.2rem;
        font-weight: bold;
        color: #2c3e50;
        background-color: #eff6ff;
        border: 3px solid #cbc3e3;
        border-radius: 8px;
        padding: 0.75rem;
      }

      .result-display label {
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Midterm Grade Calculator</h2>

      <div class="input-group">
        <label for="PrelimGrade">Prelim Grade (PG)</label>
        <input type="number" id="PrelimGrade" />
      </div>

      <div class="input-group">
        <label for="MidtermQuiz1">Quiz 1</label>
        <input type="number" id="MidtermQuiz1" />
      </div>

      <div class="input-group">
        <label for="MidtermQuiz2">Quiz 2</label>
        <input type="number" id="MidtermQuiz2" />
      </div>

      <div class="input-group">
        <label for="MidtermQuiz3">Quiz 3</label>
        <input type="number" id="MidtermQuiz3" />
      </div>

      <div class="input-group">
        <label for="MidtermAssign1">Assignment 1</label>
        <input type="number" id="MidtermAssign1" />
      </div>

      <div class="input-group">
        <label for="MidtermAssign2">Assignment 2</label>
        <input type="number" id="MidtermAssign2" />
      </div>

      <div class="input-group">
        <label for="MidtermLab1">Lab Activity 1</label>
        <input type="number" id="MidtermLab1" />
      </div>

      <div class="input-group">
        <label for="MidtermLab2">Lab Activity 2</label>
        <input type="number" id="MidtermLab2" />
      </div>

      <div class="input-group">
        <label for="MidtermLab3">Lab Activity 3</label>
        <input type="number" id="MidtermLab3" />
      </div>

      <div class="input-group">
        <label for="MidtermExam">Midterm Exam</label>
        <input type="number" id="MidtermExam" />
      </div>

      <button onclick="calculateMidtermGrade()">Compute Midterm Grade</button>
      <div class="message-box" id="messageBox"></div>

      <div class="result-group">
        <h3>Calculated Grades</h3>
        <div class="result-display">
          <div>
            <label for="TermMidtermResult">Term Midterm Grade (TMG):</label>
            <input type="text" id="TermMidtermResult" readonly />
          </div>
          <div>
            <label for="MidtermResult" class="prelim-grade-label"
              >Midterm Grade (MG):</label
            >
            <input
              type="text"
              id="MidtermResult"
              readonly
              class="prelim-grade-result"
            />
          </div>
        </div>
      </div>
    </div>

    <script>
      function calculateMidtermGrade() {
        const messageBox = document.getElementById("messageBox");
        messageBox.textContent = "";

        const getNumber = (id) => {
          const value = document.getElementById(id).value;
          return value === "" || isNaN(parseFloat(value))
            ? null
            : parseFloat(value);
        };

        const calculateClassStanding = () => {
          const quiz1 = getNumber("MidtermQuiz1");
          const quiz2 = getNumber("MidtermQuiz2");
          const quiz3 = getNumber("MidtermQuiz3");
          const lab1 = getNumber("MidtermLab1");
          const lab2 = getNumber("MidtermLab2");
          const lab3 = getNumber("MidtermLab3");
          const assign1 = getNumber("MidtermAssign1");
          const assign2 = getNumber("MidtermAssign2");

          const inputs = [
            quiz1,
            quiz2,
            quiz3,
            lab1,
            lab2,
            lab3,
            assign1,
            assign2,
          ];
          if (inputs.some((val) => val === null)) return null;

          const quizAvg = (quiz1 + quiz2 + quiz3) / 3;
          const labAvg = (lab1 + lab2 + lab3) / 3;
          const assignAvg = (assign1 + assign2) / 2;

          return 0.6 * quizAvg + 0.2 * assignAvg + 0.2 * labAvg;
        };

        const calculatePeriodGrade = (cs, examId) => {
          const examScore = getNumber(examId);
          return cs === null || examScore === null
            ? null
            : 0.5 * cs + 0.5 * examScore;
        };

        const prelimGrade = getNumber("PrelimGrade");
        const midtermCS = calculateClassStanding();
        const midtermExam = getNumber("MidtermExam");

        const allInputsValid =
          prelimGrade !== null && midtermCS !== null && midtermExam !== null;
        if (!allInputsValid) {
          messageBox.textContent =
            "Please fill in all fields with valid numbers.";
          document.getElementById("TermMidtermResult").value = "Error";
          document.getElementById("MidtermResult").value = "Error";
          return;
        }

        const TMG = calculatePeriodGrade(midtermCS, "MidtermExam");
        const MG = (1 / 3) * prelimGrade + (2 / 3) * TMG;

        document.getElementById(
          "TermMidtermResult"
        ).value = TMG.toFixed(2);
        document.getElementById(
          "MidtermResult"
        ).value = MG.toFixed(2);
      }
    </script>
  </body>
</html>
